{"ast":null,"code":"var _jsxFileName = \"/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Home/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../Home/home.css\";\nimport Carousel from \"../Home/Carousel\";\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport ItemList from '../ItemList/ItemList';\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport firestoreDB from '../../services/firebase';\nimport { getDocs, collection, query, where } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const {\n    favourite\n  } = useParams();\n  useEffect(() => {\n    const getItemsFromDB = () => {\n      return new Promise(resolve => {\n        const products = collection(firestoreDB, \"joyas\");\n        getDocs(products).then(snapshot => {\n          const docsData = snapshot.docs.map(doc => {\n            return { ...doc.data(),\n              id: doc.id\n            };\n          });\n          resolve(docsData);\n        });\n      });\n    };\n\n    const getItemsFavourite = favourite => {\n      return new Promise(resolve => {\n        const favourites = collection(firestoreDB, \"joyas\");\n        const queryProducts = query(favourites, where(\"favourite\", \"==\", \"favourite\"));\n        getDocs(queryProducts).then(snapshot => {\n          const docsData = snapshot.docs.map(doc => {\n            return { ...doc.data(),\n              id: doc.id\n            };\n          });\n          resolve(docsData);\n        });\n      });\n    };\n\n    if (favourite) {\n      getItemsFavourite(favourite).then(resolve => {\n        setItems(resolve);\n      });\n    } else {\n      getItemsFromDB().then(resolve => {\n        setItems(resolve);\n      });\n    }\n  }, [favourite]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carusel\",\n      children: /*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Como decirtelo joyas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container__home\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Los m\\xE1s elegidos \", /*#__PURE__*/_jsxDEV(FavoriteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ItemList, {\n        items: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"Z3uZLLzDH6x7toc2/5NaxD7yIxg=\", false, function () {\n  return [useParams];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Carousel","FavoriteIcon","ItemList","React","useState","useEffect","useParams","firestoreDB","getDocs","collection","query","where","Home","items","setItems","favourite","getItemsFromDB","Promise","resolve","products","then","snapshot","docsData","docs","map","doc","data","id","getItemsFavourite","favourites","queryProducts"],"sources":["/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Home/Home.jsx"],"sourcesContent":["import \"../Home/home.css\";\nimport Carousel from \"../Home/Carousel\";\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport ItemList from '../ItemList/ItemList';\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport firestoreDB from '../../services/firebase';\nimport { getDocs, collection, query, where} from 'firebase/firestore';\n\nconst Home = () => {\nconst [items, setItems] = useState([]);\nconst {favourite} = useParams();\nuseEffect(() => {\n\n    const getItemsFromDB = () => {\n        return new Promise((resolve) => {\n            const products = collection(firestoreDB, \"joyas\");\n\n            getDocs(products).then( snapshot => {\n                const docsData = snapshot.docs.map(doc =>{\n                    return {...doc.data(), id: doc.id}\n                });\n                resolve(docsData);\n                });\n            })\n    }  \n\n    const getItemsFavourite = (favourite) => {\n        return new Promise((resolve) => {\n            const favourites = collection(firestoreDB, \"joyas\");\n            const queryProducts = query(favourites, where(\"favourite\", \"==\", \"favourite\"))\n\n            getDocs(queryProducts).then( snapshot => {\n                const docsData = snapshot.docs.map(doc =>{\n                    return {...doc.data(), id: doc.id}\n                });\n                resolve(docsData);\n                });\n            })\n    }  \n\n\n    if(favourite){\n        getItemsFavourite(favourite).then((resolve) => {\n        setItems(resolve);\n    });\n    }else{\n        getItemsFromDB().then((resolve) =>{\n        setItems(resolve)\n    });\n}\n},\n[favourite]\n)\n    return (\n        <div className=\"home\">\n            <div className=\"carusel\">\n                <Carousel/>\n            </div>\n            <h1>Como decirtelo joyas</h1>\n            <div className=\"container__home\">\n            <p>Los m√°s elegidos <FavoriteIcon/></p>\n            <ItemList items = {items} />\n            </div>\n        </div>\n    )\n    \n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}