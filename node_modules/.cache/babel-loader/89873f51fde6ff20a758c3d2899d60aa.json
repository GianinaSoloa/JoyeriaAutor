{"ast":null,"code":"var _jsxFileName = \"/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Checkout/Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../CartView/cartView.css\";\nimport \"../Checkout/checkout.css\";\nimport React, { useState, useContext } from \"react\";\nimport { CartContext } from '../../Store/CartContext';\nimport firestoreDB from '../../services/firebase';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = () => {\n  _s();\n\n  const {\n    cartItems,\n    clear,\n    totalPrice\n  } = useContext(CartContext);\n  const [userBuyer, setUserBuyer] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\"\n  });\n  const [orderFirebase, setOrderFirebase] = useState({\n    id: '',\n    complete: false\n  });\n  const purchaseOrder = {\n    buyer: { ...userBuyer\n    },\n    items: [...cartItems],\n    total: totalPrice(),\n    date: new Date()\n  };\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    const collectionRef = collection(firestoreDB, \"orders\");\n    const order = await addDoc(collectionRef, purchaseOrder);\n    setOrderFirebase({\n      id: order.id,\n      complete: true\n    });\n    clear();\n  }\n\n  function inputChangeHandler(evt) {\n    const input = evt.target;\n    const value = input.value;\n    const inputName = input.name;\n    let copyUserData = { ...userBuyer\n    };\n    copyUserData[inputName] = value;\n    setUserBuyer(copyUserData);\n  }\n\n  if (orderFirebase.complete === true) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"thanks__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\xA1Su compra ha sido exitosa!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cuando su pedido est\\xE9 listo y sea despachado recibir\\xE1 una notificaci\\xF3n en su E-mail. Si no recibe nada en los p\\xB4roximos d\\xEDas recuerde revisar la bandeja de Spam. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"El id de seguimiento de tu compra es: \", orderFirebase.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonThankYou\",\n          children: \"IR A LA HOME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xA1Complet\\xE1 los siguientes datos para finalizar tu compra!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-item\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: userBuyer.name,\n              onChange: inputChangeHandler,\n              name: \"name\",\n              type: \"text\",\n              placeholder: \"NOMBRE COMPLETO\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-item\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: userBuyer.telefono,\n              onChange: inputChangeHandler,\n              name: \"telefono\",\n              type: \"text\",\n              placeholder: \"TEL\\xC9FONO\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-item\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: userBuyer.email,\n              onChange: inputChangeHandler,\n              name: \"email\",\n              type: \"text\",\n              placeholder: \"EMAIL\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forms__buttons\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button__form\",\n              type: \"submit\",\n              children: \"LO QUIERO!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s(Checkout, \"9WL1Zf/opVUBrQqNXsHHkjbJM8c=\");\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useContext","CartContext","firestoreDB","addDoc","collection","Link","Checkout","cartItems","clear","totalPrice","userBuyer","setUserBuyer","name","phone","email","orderFirebase","setOrderFirebase","id","complete","purchaseOrder","buyer","items","total","date","Date","handleSubmit","evt","preventDefault","collectionRef","order","inputChangeHandler","input","target","value","inputName","copyUserData","telefono"],"sources":["/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Checkout/Checkout.jsx"],"sourcesContent":["import \"../CartView/cartView.css\";\nimport \"../Checkout/checkout.css\";\nimport React, { useState, useContext } from \"react\";\nimport { CartContext } from '../../Store/CartContext';\nimport firestoreDB from '../../services/firebase';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { Link } from \"react-router-dom\";\n\n\nconst Checkout = () => {\n    const { cartItems, clear, totalPrice} = useContext(CartContext)\n\n    const [userBuyer, setUserBuyer] = useState({\n        name: \"\",\n        phone: \"\",\n        email: \"\",\n    })\n\n    const [orderFirebase, setOrderFirebase] = useState({\n        id: '',\n        complete: false,\n    });\n\n    const purchaseOrder = {\n        buyer: { ...userBuyer },\n        items: [...cartItems],\n        total: totalPrice(),\n        date: new Date(),\n    };\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        const collectionRef = collection(firestoreDB, \"orders\");\n        const order = await addDoc(collectionRef, purchaseOrder);\n        setOrderFirebase({ id: order.id, complete: true });\n        clear()\n    }\n\n    function inputChangeHandler(evt) {\n        const input = evt.target;\n        const value = input.value;\n        const inputName = input.name;\n\n        let copyUserData = { ...userBuyer };\n\n        copyUserData[inputName] = value;\n        setUserBuyer(copyUserData);\n    }\n\n    if (orderFirebase.complete === true) {\n        return(\n            <main className='thanks__container'>\n                <h1>¡Su compra ha sido exitosa!</h1>\n                <h2>Cuando su pedido esté listo y sea despachado recibirá una notificación en su E-mail. Si no recibe nada en los p´roximos días recuerde revisar la bandeja de Spam. </h2>\n                <h3>El id de seguimiento de tu compra es: {orderFirebase.id}</h3>\n                <Link to ={\"/\"}> <button className='buttonThankYou'>IR A LA HOME</button></Link>\n            </main>\n        )\n        }\n        else{\n        return (\n        <div className=\"checkout\">\n            <p>¡Completá los siguientes datos para finalizar tu compra!</p>\n            <div className=\"form-container\">\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.name}\n                            onChange={inputChangeHandler}\n                            name=\"name\"\n                            type=\"text\"\n                            placeholder=\"NOMBRE COMPLETO\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.telefono}\n                            onChange={inputChangeHandler}\n                            name=\"telefono\"\n                            type=\"text\"\n                            placeholder=\"TELÉFONO\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.email}\n                            onChange={inputChangeHandler}\n                            name=\"email\"\n                            type=\"text\"\n                            placeholder=\"EMAIL\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"forms__buttons\">\n                        <button className=\"button__form\" type=\"submit\">LO QUIERO!</button>\n                    </div>\n                </form>\n            </div>    \n        </div>\n    );\n}\n}\nexport default Checkout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}