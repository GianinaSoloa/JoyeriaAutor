{"ast":null,"code":"var _jsxFileName = \"/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Checkout/Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../CartView/cartView.css\";\nimport \"../Checkout/checkout.css\";\nimport React, { useState, useContext } from \"react\";\nimport { CartContext } from '../../Store/CartContext';\nimport firestoreDB from '../../services/firebase';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = () => {\n  _s();\n\n  const {\n    cartItems,\n    clear,\n    totalPrice\n  } = useContext(CartContext);\n  const [userBuyer, setUserBuyer] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\"\n  });\n  const [orderFirebase, setOrderFirebase] = useState({\n    id: '',\n    complete: false\n  });\n  const purchaseOrder = {\n    buyer: { ...userBuyer\n    },\n    items: [...cartItems],\n    total: totalPrice(),\n    date: new Date()\n  };\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    const collectionRef = collection(firestoreDB, \"orders\");\n    const order = await addDoc(collectionRef, purchaseOrder);\n    setOrderFirebase({\n      id: order.id,\n      complete: true\n    });\n    clear();\n  }\n\n  function inputChangeHandler(evt) {\n    const input = evt.target;\n    const value = input.value;\n    const inputName = input.name;\n    let copyUserData = { ...userBuyer\n    };\n    copyUserData[inputName] = value;\n    setUserBuyer(copyUserData);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Completa los siguientes datos para finalizar tu compra!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            value: userBuyer.name,\n            onChange: inputChangeHandler,\n            name: \"name\",\n            type: \"text\",\n            placeholder: \"NOMBRE COMPLETO\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            value: userBuyer.telefono,\n            onChange: inputChangeHandler,\n            name: \"telefono\",\n            type: \"text\",\n            placeholder: \"TEL\\xC9FONO\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            value: userBuyer.email,\n            onChange: inputChangeHandler,\n            name: \"email\",\n            type: \"text\",\n            placeholder: \"EMAIL\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forms__buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button__form\",\n            type: \"submit\",\n            children: \"LO QUIERO!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Checkout, \"9WL1Zf/opVUBrQqNXsHHkjbJM8c=\");\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useContext","CartContext","firestoreDB","addDoc","collection","Checkout","cartItems","clear","totalPrice","userBuyer","setUserBuyer","name","phone","email","orderFirebase","setOrderFirebase","id","complete","purchaseOrder","buyer","items","total","date","Date","handleSubmit","evt","preventDefault","collectionRef","order","inputChangeHandler","input","target","value","inputName","copyUserData","telefono"],"sources":["/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/Checkout/Checkout.jsx"],"sourcesContent":["import \"../CartView/cartView.css\";\nimport \"../Checkout/checkout.css\";\nimport React, { useState, useContext } from \"react\";\nimport { CartContext } from '../../Store/CartContext';\nimport firestoreDB from '../../services/firebase';\nimport { addDoc, collection } from 'firebase/firestore';\n\n\nconst Checkout = () => {\n    const { cartItems, clear, totalPrice} = useContext(CartContext)\n\n    const [userBuyer, setUserBuyer] = useState({\n        name: \"\",\n        phone: \"\",\n        email: \"\",\n    })\n\n    const [orderFirebase, setOrderFirebase] = useState({\n        id: '',\n        complete: false,\n    });\n\n    const purchaseOrder = {\n        buyer: { ...userBuyer },\n        items: [...cartItems],\n        total: totalPrice(),\n        date: new Date(),\n    };\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        const collectionRef = collection(firestoreDB, \"orders\");\n        const order = await addDoc(collectionRef, purchaseOrder);\n        setOrderFirebase({ id: order.id, complete: true });\n        clear()\n    }\n\n    function inputChangeHandler(evt) {\n        const input = evt.target;\n        const value = input.value;\n        const inputName = input.name;\n\n        let copyUserData = { ...userBuyer };\n\n        copyUserData[inputName] = value;\n        setUserBuyer(copyUserData);\n    }\n\n\n\n    return (\n        <div className=\"checkout\">\n            <p>Completa los siguientes datos para finalizar tu compra!</p>\n            <div className=\"form-container\">\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.name}\n                            onChange={inputChangeHandler}\n                            name=\"name\"\n                            type=\"text\"\n                            placeholder=\"NOMBRE COMPLETO\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.telefono}\n                            onChange={inputChangeHandler}\n                            name=\"telefono\"\n                            type=\"text\"\n                            placeholder=\"TELÃ‰FONO\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-item\">\n                        <input\n                            value={userBuyer.email}\n                            onChange={inputChangeHandler}\n                            name=\"email\"\n                            type=\"text\"\n                            placeholder=\"EMAIL\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"forms__buttons\">\n                        <button className=\"button__form\" type=\"submit\">LO QUIERO!</button>\n                    </div>\n                </form>\n            </div>    \n        </div>\n    );\n}\n\nexport default Checkout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}