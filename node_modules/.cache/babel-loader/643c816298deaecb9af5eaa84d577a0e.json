{"ast":null,"code":"var _jsxFileName = \"/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/ItemListContainer/ItemListContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport ItemList from '../ItemList/ItemList';\nimport '../ItemListContainer/itemListContainer.css';\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport firestoreDB from '../../services/firebase';\nimport { getDocs, collection, query, where } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ItemListContainer = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const {\n    category\n  } = useParams();\n  useEffect(() => {\n    const getItemsFromDB = () => {\n      return new Promise(resolve => {\n        const products = collection(firestoreDB, \"joyas\");\n        getDocs(products).then(snapshot => {\n          const docsData = snapshot.docs.map(doc => {\n            return { ...doc.data(),\n              id: doc.id\n            };\n          });\n          resolve(docsData);\n        });\n      });\n    };\n\n    const getItemsFromDBbyCategory = category => {\n      return new Promise(resolve => {\n        const products = collection(firestoreDB, \"joyas\");\n        const queryProducts = query(products, where(\"category\", \"==\", category));\n        getDocs(queryProducts).then(snapshot => {\n          const docsData = snapshot.docs.map(doc => {\n            return { ...doc.data(),\n              id: doc.id\n            };\n          });\n          resolve(docsData);\n        });\n      });\n    };\n\n    if (category) {\n      getItemsFromDBbyCategory(category).then(resolve => {\n        setItems(resolve);\n      });\n    } else {\n      getItemsFromDB().then(resolve => {\n        setItems(resolve);\n      });\n    }\n  }, [category]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container__items\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Mejor decilo con una joya...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ItemList, {\n      items: items\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ItemListContainer, \"uHVKEpOtDGlzmzlveXyDd9A+ROk=\", false, function () {\n  return [useParams];\n});\n\n_c = ItemListContainer;\nexport default ItemListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListContainer\");","map":{"version":3,"names":["ItemList","React","useState","useEffect","useParams","firestoreDB","getDocs","collection","query","where","ItemListContainer","items","setItems","category","getItemsFromDB","Promise","resolve","products","then","snapshot","docsData","docs","map","doc","data","id","getItemsFromDBbyCategory","queryProducts"],"sources":["/Users/Giani/Documents/CURSO-CODER/React/react/joyeria-autor/src/Components/ItemListContainer/ItemListContainer.jsx"],"sourcesContent":["import ItemList from '../ItemList/ItemList';\nimport '../ItemListContainer/itemListContainer.css'\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport firestoreDB from '../../services/firebase';\nimport { getDocs, collection, query, where} from 'firebase/firestore';\n\n\nconst ItemListContainer = () =>{\nconst [items, setItems] = useState([]);\nconst {category} = useParams();\nuseEffect(() => {\n\n    const getItemsFromDB = () => {\n        return new Promise((resolve) => {\n            const products = collection(firestoreDB, \"joyas\");\n\n            getDocs(products).then( snapshot => {\n                const docsData = snapshot.docs.map(doc =>{\n                    return {...doc.data(), id: doc.id}\n                });\n                resolve(docsData);\n                });\n            })\n    }  \n\n    const getItemsFromDBbyCategory = (category) => {\n        return new Promise((resolve) => {\n            const products = collection(firestoreDB, \"joyas\");\n            const queryProducts = query(products, where(\"category\", \"==\", category))\n\n            getDocs(queryProducts).then( snapshot => {\n                const docsData = snapshot.docs.map(doc =>{\n                    return {...doc.data(), id: doc.id}\n                });\n                resolve(docsData);\n                });\n            })\n    }  \n\n\n    if(category){\n        getItemsFromDBbyCategory(category).then((resolve) => {\n        setItems(resolve);\n    });\n    }else{\n        getItemsFromDB().then((resolve) =>{\n        setItems(resolve)\n    });\n}\n},\n[category]\n)\n\n\n    return(\n        <div className='container__items'>\n            <h1>Mejor decilo con una joya...</h1>\n            <ItemList items = {items} />\n        </div>\n    )\n}\n\nexport default ItemListContainer;"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,sBAArB;AACA,OAAO,4CAAP;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,KAA9B,EAAqCC,KAArC,QAAiD,oBAAjD;;;AAGA,MAAMC,iBAAiB,GAAG,MAAK;EAAA;;EAC/B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM;IAACW;EAAD,IAAaT,SAAS,EAA5B;EACAD,SAAS,CAAC,MAAM;IAEZ,MAAMW,cAAc,GAAG,MAAM;MACzB,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;QAC5B,MAAMC,QAAQ,GAAGV,UAAU,CAACF,WAAD,EAAc,OAAd,CAA3B;QAEAC,OAAO,CAACW,QAAD,CAAP,CAAkBC,IAAlB,CAAwBC,QAAQ,IAAI;UAChC,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAAG;YACrC,OAAO,EAAC,GAAGA,GAAG,CAACC,IAAJ,EAAJ;cAAgBC,EAAE,EAAEF,GAAG,CAACE;YAAxB,CAAP;UACH,CAFgB,CAAjB;UAGAT,OAAO,CAACI,QAAD,CAAP;QACC,CALL;MAMC,CATE,CAAP;IAUH,CAXD;;IAaA,MAAMM,wBAAwB,GAAIb,QAAD,IAAc;MAC3C,OAAO,IAAIE,OAAJ,CAAaC,OAAD,IAAa;QAC5B,MAAMC,QAAQ,GAAGV,UAAU,CAACF,WAAD,EAAc,OAAd,CAA3B;QACA,MAAMsB,aAAa,GAAGnB,KAAK,CAACS,QAAD,EAAWR,KAAK,CAAC,UAAD,EAAa,IAAb,EAAmBI,QAAnB,CAAhB,CAA3B;QAEAP,OAAO,CAACqB,aAAD,CAAP,CAAuBT,IAAvB,CAA6BC,QAAQ,IAAI;UACrC,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAAG;YACrC,OAAO,EAAC,GAAGA,GAAG,CAACC,IAAJ,EAAJ;cAAgBC,EAAE,EAAEF,GAAG,CAACE;YAAxB,CAAP;UACH,CAFgB,CAAjB;UAGAT,OAAO,CAACI,QAAD,CAAP;QACC,CALL;MAMC,CAVE,CAAP;IAWH,CAZD;;IAeA,IAAGP,QAAH,EAAY;MACRa,wBAAwB,CAACb,QAAD,CAAxB,CAAmCK,IAAnC,CAAyCF,OAAD,IAAa;QACrDJ,QAAQ,CAACI,OAAD,CAAR;MACH,CAFG;IAGH,CAJD,MAIK;MACDF,cAAc,GAAGI,IAAjB,CAAuBF,OAAD,IAAY;QAClCJ,QAAQ,CAACI,OAAD,CAAR;MACH,CAFG;IAGP;EACA,CAvCQ,EAwCT,CAACH,QAAD,CAxCS,CAAT;EA4CI,oBACI;IAAK,SAAS,EAAC,kBAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI,QAAC,QAAD;MAAU,KAAK,EAAIF;IAAnB;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH,CArDD;;GAAMD,iB;UAEaN,S;;;KAFbM,iB;AAuDN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}